import{d as f,u as d,c as e,bq as h}from"./index.536c7d72.js";import{_ as m}from"./lodash.bce5b897.js";import{f as g}from"./common.cc1e0c6c.js";import{i as w,j as y}from"./index.ea5b005f.js";import{F as b}from"./FormOutlined.36940f0d.js";import{E as F}from"./EditOutlined.57b65af3.js";import{D as N}from"./DownloadOutlined.e576ca2a.js";import{I as R}from"./InfoCircleFilled.9f54e30c.js";import{D}from"./DeleteOutlined.0c0bc8fc.js";import{N as l}from"./Tooltip.2dc588a0.js";import{N as n}from"./Button.9dd5ee3c.js";import{N as o}from"./Icon.36d6d904.js";import{N as v}from"./Popconfirm.f3bbced5.js";import{N as x}from"./Space.8c5cfc39.js";import"./SettingOutlined.06d5d07d.js";import"./PauseCircleOutlined.a11f5c7d.js";import"./CloseCircleOutlined.14b6a996.js";import"./CheckCircleOutlined.4f0aee70.js";import"./index.9c0cbe29.js";import"./service.4ca56d82.js";import"./Popover.374e8a7f.js";import"./index.8209174c.js";import"./flatten.f4456e1c.js";import"./Scrollbar.7c2bcabe.js";import"./fade-in.cssr.ef9eaee7.js";import"./VResizeObserver.0aad584a.js";import"./utils.ba7f47bf.js";import"./format-length.a0cbed4d.js";import"./resolve-slot.12a336d2.js";import"./use-compitable.7f10f89e.js";import"./next-frame-once.e5ee25e8.js";import"./is-browser.f4bc45cf.js";import"./use-rtl.b3456902.js";import"./use-locale.31127f4e.js";import"./keysOf.10525521.js";import"./get-slot.7f666ba0.js";import"./index.7a579f81.js";const C={show:{type:Boolean,default:!1},row:{type:Object,default:{id:-1,name:"",description:""}}},he=f({name:"TableAction",props:C,emits:["updateList","renameResource"],setup(t,{emit:r}){const{t:u}=d(),p=h();return{t:u,rtDisb:(i,s)=>{const a=i.lastIndexOf("."),c=i.substring(a,i.length);return!(m.includes(g,m.trimStart(c,"."))&&s<1e6)},handleEditFile:i=>{p.push({name:"resource-file-edit",params:{id:i.id}})},handleDeleteFile:i=>{w(i).then(()=>r("updateList"))},handleRenameFile:(i,s,a)=>{r("renameResource",i,s,a)},...t}},render(){const{t}=d();return e(x,null,{default:()=>[e(l,{trigger:"hover"},{default:()=>t("resource.file.edit"),trigger:()=>e(n,{size:"tiny",type:"info",disabled:this.rtDisb(this.row.name,this.row.size),tag:"div",onClick:()=>{this.handleEditFile(this.row)},style:{marginRight:"-5px"},circle:!0,class:"btn-edit"},{default:()=>[e(o,null,{default:()=>[e(b,null,null)]})]})}),e(l,{trigger:"hover"},{default:()=>t("resource.file.rename"),trigger:()=>e(n,{size:"tiny",type:"info",onClick:()=>this.handleRenameFile(this.row.id,this.row.name,this.row.description),style:{marginRight:"-5px"},circle:!0,class:"btn-rename"},{default:()=>[e(o,null,{default:()=>[e(F,null,null)]})]})}),e(l,{trigger:"hover"},{default:()=>t("resource.file.download"),trigger:()=>{var r;return e(n,{size:"tiny",type:"info",disabled:!!((r=this.row)!=null&&r.directory),tag:"div",circle:!0,style:{marginRight:"-5px"},onClick:()=>y(this.row.id),class:"btn-download"},{default:()=>[e(o,null,{default:()=>[e(N,null,null)]})]})}}),e(l,{trigger:"hover"},{default:()=>t("resource.file.delete"),trigger:()=>e(n,{size:"tiny",type:"error",circle:!0,class:"btn-delete"},{default:()=>[e(v,{"positive-text":t("resource.file.confirm"),"negative-text":t("resource.file.cancel"),onPositiveClick:()=>{this.handleDeleteFile(this.row.id)}},{default:()=>t("resource.file.delete_confirm"),icon:()=>e(o,null,{default:()=>[e(R,null,null)]}),trigger:()=>e(o,null,{default:()=>[e(D,null,null)]})})]})})]})}});export{he as default};
