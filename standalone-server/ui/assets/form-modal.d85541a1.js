import{u,b5 as f,a as l,d as c,e as d,at as y,ba as g,c as e}from"./index.536c7d72.js";import{M as v}from"./index.4d9d5980.js";import{m as h}from"./index.b34b4239.js";import{N as D}from"./Form.b918a62f.js";import{N as _}from"./FormItem.67716b88.js";import{N as C}from"./Input.4b8b409e.js";import"./index.eb38a2cf.js";import"./Button.9dd5ee3c.js";import"./is-browser.f4bc45cf.js";import"./use-rtl.b3456902.js";import"./resolve-slot.12a336d2.js";import"./keysOf.10525521.js";import"./Card.1fac8dc8.js";import"./index.7a579f81.js";import"./index.8209174c.js";import"./flatten.f4456e1c.js";import"./Scrollbar.7c2bcabe.js";import"./fade-in.cssr.ef9eaee7.js";import"./VResizeObserver.0aad584a.js";import"./fade-in-scale-up.cssr.1167eea7.js";import"./utils.ba7f47bf.js";import"./Space.8c5cfc39.js";import"./get-slot.7f666ba0.js";import"./service.4ca56d82.js";import"./lodash.bce5b897.js";import"./format-length.a0cbed4d.js";import"./use-locale.31127f4e.js";import"./Suffix.4fa63b0d.js";function I(){const{t}=u(),o=f({formRef:l(),formData:{queueId:0,priority:0},saving:!1,rules:{priority:{required:!0,trigger:["input","blur"],validator(){if(!(o.formData.priority+""&&o.formData.priority>=0))return new Error(t("resource.task_group_queue.priority_not_empty"))}}}});return{state:o,t}}const q={show:{type:Boolean,default:!1},data:{type:Object}},Z=c({name:"FormModal",props:q,emits:["confirm","cancel"],setup(t,{emit:o}){var m;const{state:r,t:a}=I();d(()=>{r.formData.queueId=t.data.queueId,r.formData.priority=t.data.priority});const i=async()=>{if(!r.saving){r.saving=!0;try{r.formData.priority+""&&(await h(r.formData),o("confirm")),r.saving=!1}catch{r.saving=!1}}},s=()=>{r.formData.priority=0,o("cancel")},n=(m=y())==null?void 0:m.appContext.config.globalProperties.trim;return{...g(r),t:a,onConfirm:i,onCancel:s,trim:n}},render(){const{t,onConfirm:o,onCancel:r,show:a}=this;return e(v,{title:t("resource.task_group_queue.edit_priority"),show:a,onConfirm:o,onCancel:r,confirmLoading:this.saving},{default:()=>[e(D,{rules:this.rules,ref:"formRef"},{default:()=>[e(_,{label:t("resource.task_group_queue.priority"),path:"priority"},{default:()=>[e(C,{allowInput:this.trim,value:this.formData.priority,"onUpdate:value":i=>this.formData.priority=i},null)]})]})]})}});export{Z as default};
