import{d as j,a as x,n as g,e as C,u as N,c as a,ah as p,bJ as V,ak as $}from"./index.536c7d72.js";import{v as O}from"./index.c7ac6f91.js";import{c as R}from"./index.22428b53.js";import{N as b}from"./Button.9dd5ee3c.js";import"./service.4ca56d82.js";import"./lodash.bce5b897.js";import"./is-browser.f4bc45cf.js";import"./use-rtl.b3456902.js";import"./resolve-slot.12a336d2.js";const B="_variable_atwg8_17",E="_list_atwg8_21",k="_name_atwg8_32",A="_fa_atwg8_35",e={variable:B,list:E,"var-cont":"_var-cont_atwg8_25",name:k,fa:A,"list-t":"_list-t_atwg8_54","task-name":"_task-name_atwg8_58"};function S(i){return typeof i=="function"||Object.prototype.toString.call(i)==="[object Object]"&&!$(i)}const F=j({name:"variables-view",emits:["copy"],setup(i,r){const t=x(),m=V(),u=Number(m.params.projectCode),d=Number(m.params.id),f=Number(m.params.code),_=g(()=>t.value&&t.value.globalParams?t.value.globalParams:[]),h=g(()=>t.value&&t.value.localParams?t.value.localParams:{}),y=()=>{Number.isNaN(d)?R(u,f).then(s=>{t.value=s}):O(d,u).then(s=>{t.value=s})},v=s=>{r.emit("copy",s)},w=(s,n)=>{const l=[];return Object.keys(s).forEach(o=>{n==="SQL"||n==="PROCEDURE"?o!=="direct"&&o!=="type"&&l.push(`${o}=${s[o]}`):l.push(`${o}=${s[o]}`)}),l.join(" ")},P=(s,n,l)=>{let o;return a(b,{key:s,type:"primary",style:"margin-right: 10px",onClick:()=>v(w(l,n))},S(o=Object.keys(l).map(c=>n==="SQL"||n==="PROCEDURE"?c!=="direct"&&c!=="type"?a("span",{style:"margin-right: 5px"},[a("strong",{style:"color: #2A455B;"},[c]),p(" = "),l[c]]):"":a("span",{style:"margin-right: 5px"},[a("strong",{style:"color: #2A455B;"},[c]),p(" = "),l[c]])))?o:{default:()=>[o]})};return C(()=>{y()}),{globalParams:_,localParams:h,localButton:P,handleCopy:v}},render(){const{t:i}=N();return a("div",{class:e.variable},[a("div",{class:e.list},[a("div",{class:e.name},[a("em",{class:"ri-code-s-slash-line"},null),a("strong",{style:"padding-top: 3px;display: inline-block"},[i("project.workflow.global_parameters")])]),a("div",{class:e["var-cont"]},[this.globalParams.map((r,t)=>a(b,{key:t,type:"primary",style:{marginRight:"5px"},onClick:()=>this.handleCopy(`${r.prop}=${r.value}`)},{default:()=>[a("strong",{style:"color: #2A455B; margin-right: 4px"},[r.prop])," ",p("= "),r.value]}))])]),a("div",{class:e.list,style:"height: 30px;"},[a("div",{class:e.name},[a("em",{class:"ri-code-s-slash-line"},null),a("strong",{style:"padding-top: 3px;display: inline-block"},[i("project.workflow.local_parameters")])]),a("div",{class:e["var-cont"]},[p("\xA0")])]),Object.keys(this.localParams).map((r,t)=>a("div",{class:`${e.list} ${e["list-t"]}`},[a("div",{class:e["task-name"]},[p("Task("),t,p("): "),r]),a("div",{class:e["var-cont"]},[this.localParams[r].localParamsList.map((m,u)=>this.localButton(u,this.localParams[r].taskType,m))])]))])}});export{F as default};
